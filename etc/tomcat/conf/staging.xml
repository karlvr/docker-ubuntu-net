<Context docBase="/srv/www/staging/web" sessionCookieDomain="letterboxd.com">
  <Environment name="com/xk72/webparts/assets/urls" override="true"
    type="java.lang.String" value="http://skyfall.a.ltrbxd.com
    http://zardoz.a.ltrbxd.com
    http://oblivion.a.ltrbxd.com
    http://primer.a.ltrbxd.com" />

  <Environment name="com/xk72/webparts/assets/secure-url" override="true"
    type="java.lang.String" value="https://a.ltrbxd.com" />

  <Environment name="com/cactuslab/supermodel/Application/secure-static-urls" override="true"
    type="java.lang.String" value="https://ST_NUMBER.letterboxd.com" />

  <ResourceLink global="mail/Session" name="mail/Session"
    type="javax.mail.Session" />

  <Resource name="jdbc/DataSource" auth="Container"
    factory="com.zaxxer.hikari.HikariJNDIFactory" type="javax.sql.DataSource"
    minimumIdle="5" maximumPoolSize="40" connectionTimeout="10000"
    username="letterboxd" password="x44zpyj6"
    dataSourceClassName="org.postgresql.ds.PGSimpleDataSource"
    dataSource.url="jdbc:postgresql://127.0.0.1:6432/letterboxd"
    dataSource.ssl="true"
    dataSource.sslfactory="org.postgresql.ssl.NonValidatingFactory"
    dataSource.disableColumnSanitiser="true"
    jdbcInterceptors="StatementCache(max=1000);QueryTimeoutInterceptor(queryTimeout=60)"
    closeMethod="close"
    registerMbeans="true" poolName="jdbc_DataSource" />

  <Resource name="jdbc/DataSourceReadOnly" auth="Container"
    factory="com.zaxxer.hikari.HikariJNDIFactory" type="javax.sql.DataSource"
    minimumIdle="5" maximumPoolSize="40" connectionTimeout="10000"
    username="letterboxd" password="x44zpyj6"
    dataSourceClassName="org.postgresql.ds.PGSimpleDataSource"
    dataSource.url="jdbc:postgresql://127.0.0.1:6433/letterboxd"
    dataSource.ssl="true"
    dataSource.sslfactory="org.postgresql.ssl.NonValidatingFactory"
    dataSource.disableColumnSanitiser="true"
    jdbcInterceptors="StatementCache(max=1000);QueryTimeoutInterceptor(queryTimeout=60)"
    closeMethod="close"
    registerMbeans="true" poolName="jdbc_DataSourceReadOnly"
    readOnly="true" />

  <Resource name="jdbc/DataSourceCluster" auth="Container"
    factory="com.zaxxer.hikari.HikariJNDIFactory" type="javax.sql.DataSource"
    minimumIdle="5" maximumPoolSize="10" connectionTimeout="10000"
    username="letterboxd" password="x44zpyj6"
    dataSourceClassName="org.postgresql.ds.PGSimpleDataSource"
    dataSource.url="jdbc:postgresql://127.0.0.1:6432/letterboxd"
    dataSource.ssl="true"
    dataSource.sslfactory="org.postgresql.ssl.NonValidatingFactory"
    dataSource.disableColumnSanitiser="true"
    jdbcInterceptors="StatementCache(max=1000);QueryTimeoutInterceptor(queryTimeout=60)"
    closeMethod="close"
    registerMbeans="true" poolName="jdbc_DataSourceCluster" />

<!--
  <Resource name="jdbc/DataSource" auth="Container"
    factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
    type="javax.sql.DataSource"
    initialSize="20" maxActive="20" minIdle="5" maxIdle="40" maxWait="10000"
    username="letterboxd" password="x44zpyj6"
    driverClassName="org.postgresql.Driver"
    url="jdbc:postgresql://127.0.0.1:6432/letterboxd"
    connectionProperties="disableColumnSanitiser=true"
    jdbcInterceptors="StatementCache(max=1000)"
    validationQuery="select 1" validationInterval="30000" testOnBorrow="true" />

  <Resource name="jdbc/DataSourceCluster" auth="Container"
    factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
    type="javax.sql.DataSource"
    initialSize="5" maxActive="10" minIdle="5" maxIdle="5" maxWait="10000"
    username="letterboxd" password="x44zpyj6"
    driverClassName="org.postgresql.Driver"
    url="jdbc:postgresql://127.0.0.1:6432/letterboxd"
    connectionProperties="ssl=true;sslfactory=org.postgresql.ssl.NonValidatingFactory;disableColumnSanitiser=true"
    jdbcInterceptors="StatementCache(max=1000);QueryTimeoutInterceptor(queryTimeout=60)"
    validationQuery="select 1" validationInterval="30000" testOnBorrow="true" />
-->
</Context>
