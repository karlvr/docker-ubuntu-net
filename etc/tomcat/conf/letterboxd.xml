<Context docBase="/srv/www/letterboxd/web" sessionCookieDomain="letterboxd.com">
  <Environment name="com/xk72/webparts/assets/urls" override="true"
    type="java.lang.String" value="http://skyfall.a.ltrbxd.com
    http://zardoz.a.ltrbxd.com
    http://oblivion.a.ltrbxd.com
    http://primer.a.ltrbxd.com" />

  <Environment name="com/xk72/webparts/assets/secureUrl" override="true"
    type="java.lang.String" value="https://a.ltrbxd.com" />

  <Environment name="com/cactuslab/supermodel/Application/static-urls" override="true"
    type="java.lang.String" value="STATIC_URLS" />

  <Environment name="com/cactuslab/supermodel/Application/secure-static-urls" override="true"
    type="java.lang.String" value="SECURE_STATIC_URLS" />

  <ResourceLink global="mail/Session" name="mail/Session"
    type="javax.mail.Session" />

  <Resource name="jdbc/DataSource" auth="Container"
    factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
    type="javax.sql.DataSource"
    initialSize="40" maxActive="40" minIdle="5" maxIdle="40" maxWait="10000"
    username="letterboxd" password="x44zpyj6"
    driverClassName="org.postgresql.Driver"
    url="jdbc:postgresql://db1/letterboxd"
    connectionProperties="ssl=true;sslfactory=org.postgresql.ssl.NonValidatingFactory;disableColumnSanitiser=true"
    jdbcInterceptors="StatementCache(max=1000);QueryTimeoutInterceptor(queryTimeout=60)"
    validationQuery="select 1" validationInterval="30000" testOnBorrow="true" />

  <Resource name="jdbc/BatchDataSource" auth="Container"
    factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
    type="javax.sql.DataSource"
    initialSize="20" maxActive="20" minIdle="5" maxIdle="20" maxWait="10000"
    username="letterboxd" password="x44zpyj6"
    driverClassName="org.postgresql.Driver"
    url="jdbc:postgresql://db1/letterboxd"
    connectionProperties="ssl=true;sslfactory=org.postgresql.ssl.NonValidatingFactory;disableColumnSanitiser=true"
    jdbcInterceptors="StatementCache(max=1000);QueryTimeoutInterceptor(queryTimeout=60)"
    validationQuery="select 1" validationInterval="30000" testOnBorrow="true" />

  <Resource name="jdbc/DataSourceAdmin" auth="Container"
    factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
    type="javax.sql.DataSource"
    initialSize="45" maxActive="45" minIdle="5" maxIdle="40" maxWait="10000"
    username="letterboxd" password="x44zpyj6"
    driverClassName="org.postgresql.Driver"
    url="jdbc:postgresql://db1/letterboxd"
    connectionProperties="ssl=true;sslfactory=org.postgresql.ssl.NonValidatingFactory;disableColumnSanitiser=true"
    jdbcInterceptors="StatementCache(max=1000);QueryTimeoutInterceptor(queryTimeout=60)"
    validationQuery="select 1" validationInterval="30000" testOnBorrow="true" />

  <Valve className="org.apache.catalina.valves.RemoteIpValve" internalProxies="10\.\d{1,3}\.\d{1,3}\.\d{1,3}|127\.0\.0\.1" remoteIpHeader="X-Forwarded-For" protocolHeader="X-Forwarded-Proto" />
</Context>
